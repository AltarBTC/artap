build:
  tags:
    - linux
  script:
    # build deps
    - cd 3rdparty
    - ./submodules.sh
    - cd ..

    # create environment
    - python3 -m venv env
    - source env/bin/activate
    # get packages
    - pip install -r requirements.txt

    # tests
    - cd artap/tests
    - pytest --disable-warnings --durations=0 -v
