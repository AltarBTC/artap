<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-US">
		<head>
			<meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
			<link rel="stylesheet" type="text/css" href="./static/css/style.css" media="screen" title="Default" />
			<title>Artap</title>
		    <script src="../static/plotly/plotly-latest.min.js"></script>
		    <script src="../static/jquery/jquery-3.3.1.min.js"></script>
		</head>

<body>
<div class="header">
<div id="title">
<h1>Artap</h1>
</div>
<div class="name">			
</div>
</div>

<div class="separator"></div> 
</div>

<div class="left-menu">
<ul>
<li><a href="problems">Problems</a></li>
</ul>
</div>
<div class="figure">
$content
</div>
</body>
</html> 

<script type="text/javascript">
    ${jqdelimitter}(document).ready(function() {
        plotDiv = makePlot();
        document.write("Works O.K.")
        // run the first time; all subsequent calls will take care of themselves
        // setTimeout(executeQuery(plotDiv), 10);
    });

    updateFigure(plotDiv) {
        update = {x: [50, 100, 200], y: [15, 63, 33]};
        Plotly.restyle(plotDiv, update);
    }

    function executeQuery(plotDiv) {
        updateFigure(plotDiv);
    }

    function makePlot() {
        return(makePlotly( [1,2,3], [10,50,20] ));
    };

    function makePlotly( x, y ) {
        var plotDiv = document.getElementById('figure');
        var traces = [{
            x : x,
            y : y,
            type: 'scatter',
            mode: 'lines+markers',
            marker: {
                color: 'rgb(128, 0, 128)',
                size: 8
            },
            line: {
                color: 'rgb(128, 0, 128)',
                width: 2,
                dash: 'dashdot',
            },
            name: 'Optim data'
        }];

        var layout = {
            title:'Test - Ajax call',
            xaxis: {
                title: 'x-axis'
            },
            yaxis: {
                title: 'y-axis'
            }
        };

        Plotly.newPlot(plotDiv, traces, layout);

        return (plotDiv);
    }

</script>
